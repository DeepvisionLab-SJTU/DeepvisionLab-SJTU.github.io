import{u as l}from"./chunks/auth.CttdxLdH.js";import{P as o,$ as r,j as c,O as i}from"./chunks/framework.N_DV59mb.js";import"./chunks/theme.DY_ndG_M.js";const b=JSON.parse('{"title":"GitHub OAuth Callback","description":"","frontmatter":{},"headers":[],"relativePath":"callback.md","filePath":"callback.md"}'),n={name:"callback.md"},k=Object.assign(n,{setup(s){const e=l();return fetch("https://github-oauth-worker-deepvision.huiser.workers.dev/callback",{method:"GET",credentials:"include"}).then(t=>{if(!t.ok)throw new Error("Failed to fetch callback");return t.json()}).then(t=>{t.token?(localStorage.setItem("auth_token",t.token),e.setAuthenticated(!0),window.location.href="/"):(e.setAuthenticated(!1),alert("Authentication failed. Please try again."))}).catch(t=>{alert("Error during authentication process:",t)}),(t,a)=>(i(),o("div",null,a[0]||(a[0]=[r("h1",{id:"github-oauth-callback",tabindex:"-1"},[c("GitHub OAuth Callback "),r("a",{class:"header-anchor",href:"#github-oauth-callback","aria-label":'Permalink to "GitHub OAuth Callback"'},"â€‹")],-1)])))}});export{b as __pageData,k as default};
