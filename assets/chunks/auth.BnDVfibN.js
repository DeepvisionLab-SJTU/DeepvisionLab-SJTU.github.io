import{h as U,r as X,w as Y,ag as Z,ah as G,ai as x,aj as H,ak as $,al as T,n as tt,am as et,an as st,ao as nt,D as ot,b as ct}from"./framework.ChgYKD9c.js";/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let V;const I=t=>V=t,rt=Symbol();function p(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var k;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(k||(k={}));const J=()=>{};function F(t,c,n,e=J){t.push(c);const u=()=>{const a=t.indexOf(c);a>-1&&(t.splice(a,1),e())};return!n&&et()&&st(u),u}function w(t,...c){t.slice().forEach(n=>{n(...c)})}const ut=t=>t(),D=Symbol(),R=Symbol();function A(t,c){t instanceof Map&&c instanceof Map?c.forEach((n,e)=>t.set(e,n)):t instanceof Set&&c instanceof Set&&c.forEach(t.add,t);for(const n in c){if(!c.hasOwnProperty(n))continue;const e=c[n],u=t[n];p(u)&&p(e)&&t.hasOwnProperty(n)&&!x(e)&&!H(e)?t[n]=A(u,e):t[n]=e}return t}const at=Symbol();function ft(t){return!p(t)||!t.hasOwnProperty(at)}const{assign:S}=Object;function it(t){return!!(x(t)&&t.effect)}function lt(t,c,n,e){const{state:u,actions:a,getters:l}=c,r=n.state.value[t];let _;function b(){r||(n.state.value[t]=u?u():{});const y=nt(n.state.value[t]);return S(y,a,Object.keys(l||{}).reduce((v,d)=>(v[d]=ot(ct(()=>{I(n);const m=n._s.get(t);return l[d].call(m,m)})),v),{}))}return _=K(t,b,c,n,e,!0),_}function K(t,c,n={},e,u,a){let l;const r=S({actions:{}},n),_={deep:!0};let b,y,v=[],d=[],m;const j=e.state.value[t];!a&&!j&&(e.state.value[t]={}),X({});let L;function W(o){let s;b=y=!1,typeof o=="function"?(o(e.state.value[t]),s={type:k.patchFunction,storeId:t,events:m}):(A(e.state.value[t],o),s={type:k.patchObject,payload:o,storeId:t,events:m});const f=L=Symbol();tt().then(()=>{L===f&&(b=!0)}),y=!0,w(v,s,e.state.value[t])}const M=a?function(){const{state:s}=n,f=s?s():{};this.$patch(g=>{S(g,f)})}:J;function q(){l.stop(),v=[],d=[],e._s.delete(t)}const N=(o,s="")=>{if(D in o)return o[R]=s,o;const f=function(){I(e);const g=Array.from(arguments),O=[],E=[];function B(i){O.push(i)}function Q(i){E.push(i)}w(d,{args:g,name:f[R],store:h,after:B,onError:Q});let P;try{P=o.apply(this&&this.$id===t?this:h,g)}catch(i){throw w(E,i),i}return P instanceof Promise?P.then(i=>(w(O,i),i)).catch(i=>(w(E,i),Promise.reject(i))):(w(O,P),P)};return f[D]=!0,f[R]=s,f},z={_p:e,$id:t,$onAction:F.bind(null,d),$patch:W,$reset:M,$subscribe(o,s={}){const f=F(v,o,s.detached,()=>g()),g=l.run(()=>Y(()=>e.state.value[t],O=>{(s.flush==="sync"?y:b)&&o({storeId:t,type:k.direct,events:m},O)},S({},_,s)));return f},$dispose:q},h=Z(z);e._s.set(t,h);const C=(e._a&&e._a.runWithContext||ut)(()=>e._e.run(()=>(l=G()).run(()=>c({action:N}))));for(const o in C){const s=C[o];if(x(s)&&!it(s)||H(s))a||(j&&ft(s)&&(x(s)?s.value=j[o]:A(s,j[o])),e.state.value[t][o]=s);else if(typeof s=="function"){const f=N(s,o);C[o]=f,r.actions[o]=s}}return S(h,C),S($(h),C),Object.defineProperty(h,"$state",{get:()=>e.state.value[t],set:o=>{W(s=>{S(s,o)})}}),e._p.forEach(o=>{S(h,l.run(()=>o({store:h,app:e._a,pinia:e,options:r})))}),j&&a&&n.hydrate&&n.hydrate(h.$state,j),b=!0,y=!0,h}function ht(t,c,n){let e,u;const a=typeof c=="function";e=t,u=a?n:c;function l(r,_){const b=T();return r=r||(b?U(rt,null):null),r&&I(r),r=V,r._s.has(e)||(a?K(e,c,u,r):lt(e,u,r)),r._s.get(e)}return l.$id=e,l}const yt=ht("auth",{state:()=>({isAuthenticated:!1}),actions:{login(){window.location.href="https://github-oauth-worker-deepvision.huiser.workers.dev/login"},setAuthenticated(t){this.isAuthenticated=t},logout(){this.isAuthenticated=!1}}});export{yt as u};
